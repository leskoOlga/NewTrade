<!doctype html>
<html>
  <head>
    <title></title>
    <style>
  
    </style>
	 <style>
            *{
                margin:0;
                padding:0;
            }
            body{
                font-family:Arial;
  background-position: left top;
  background: url(MayBackg.jpg) 100% 100% repeat; /* */
   background-size: cover; /*   */
   
             }
   ul.navbar-nav > li > a
   { 
    font-size:24px; 
 color: green; 
       }
       .nav-link:hover {
    color: red;
    background-color: transparent;
    text-decoration: underline;
}

    #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px; }
      #messages li:nth-child(odd) { background: #eee; }
 </style>
<script src="/socket.io/socket.io.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script async  src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script async  src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script async  src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
 <link rel="stylesheet" type="text/css" href="mystyle.css">
<script>
document.addEventListener("my_event", function(e) {
  console.log(e.detail);
});

var detail = 'Event fired';

try {

    // For modern browsers except IE:
    var event = new CustomEvent('my_event', {detail:detail});

} catch(err) {

  // If IE 11 (or 10 or 9...?) do it this way:

    // Create the event.
    var event = document.createEvent('Event');
    // Define that the event name is 'build'.
    event.initEvent('my_event', true, true);
    event.detail = detail;

}

  $(function () {
    var socket = io();
	var cnt = 0;
    $('form').submit(function(){
;  document.dispatchEvent(event);
   socket.emit('join', $('#login').val() + ' ' + $('#passw').val() );
  cnt= cnt+1;

      return false;
    });
    socket.on('hello', function(msg){
alert(msg);
//document.dispatchEvent(event);
  //console.log(msg);
if(msg==''1)
{ 


document.dispatchEvent(event);
socket.emit('join', $('#login').val() + ' ' + $('#passw').val() ); 

}
  	var ind= msg.indexOf("WRONG");

	if(ind  <0 && msg!='')
	{
	document.getElementById("messages").innerHTML = "";
 	  $('#logDiv').hide();
	
 $('#initTitle').hide();
  
  document.getElementById("messages").style.color = "blue";

 $('#messages').append($('<li>').text(msg));
 	document.dispatchEvent(event);
}

	if(ind >0 && msg!='' && cnt==1)
	{

document.dispatchEvent(event);
    document.getElementById("messages").style.color = "red";

 $('#messages').append($('<li>').text(msg));
}


	


   
    });

  })
  

;
</script>
  </head>
  <body>
  <nav class="navbar navbar-expand-md bg-primary navbar-dark" style="margin-left: 30px;">
  <a class="navbar-brand" href="">
   <img alt="" src="./house_lefft.jpg" style="width:120px">

  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href=""></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href=""></a>
      </li>
      </ul>
  </div>  
</nav>
<br>



<div class="container-fluid" style = "margin-left:30px"> 
 <div class="row" style="border: medium solid #e6f2ff; font-size: 32px; color:blue; align:left">
    <ul id="messages"></ul>
 </div>
    <div id ='initTitle' class="row" style="border: medium solid #e6f2ff; font-size: 22px; color:blue; align:left">
Your e-mail  and password please.   
 </div>
  <div id = "logDiv" class="row" style="border: medium solid #e6f2ff; font-size: 22px; color:blue; align:left">

       <form  action="" onsubmit="" method="post" align ="left">
      <input id="login" type="text" name="login" autocomplete="off">     
      <input id = "passw" type="password" name="passw" autocomplete="off"> 
  
      <br>   <button id="bt1" class="btn" style="border-radius: 25px; color:white; background-color:blue; font-size: 24px; height: 39px;" align="right" data-toggle="tooltip" title="">Send</button>

  </form> 
  </div>
  </div>
 
 

 
  </body>
</html>

